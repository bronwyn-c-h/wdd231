const park = {
  id: "F58C6D24-8D10-4573-9826-65D42B8B83AD",
  url: "https://www.nps.gov/yell/index.htm",
  fullName: "Yellowstone National Park",
  parkCode: "yell",
  description:
    "On March 1, 1872, Yellowstone became the first national park for all to enjoy the unique hydrothermal wonders. Today, millions of people come here each year to camp, hike, and enjoy the majesty of the park.",
  latitude: "44.59824417",
  longitude: "-110.5471695",
  latLong: "lat:44.59824417, long:-110.5471695",
  states: "ID,MT,WY",
  contacts: {
    phoneNumbers: [
      {
        phoneNumber: "307-344-7381",
        description: "",
        extension: "",
        type: "Voice"
      },
      {
        phoneNumber: "307-344-2014",
        description: "",
        extension: "",
        type: "Fax"
      },
      {
        phoneNumber: "307-344-2386",
        description: "",
        extension: "",
        type: "TTY"
      }
    ],
    emailAddresses: [
      {
        description:
          "Contact Yellowstone's park rangers for general park questions, lost and found, or for special use permits.",
        emailAddress: "YELL_Information@nps.gov"
      }
    ]
  },
  addresses: [
    {
      postalCode: "82190",
      city: "Yellowstone National Park",
      stateCode: "WY",
      countryCode: "US",
      provinceTerritoryCode: "",
      line1: "2 Officers Row",
      type: "Physical",
      line3: "",
      line2: "Yellowstone National Park Headquarters"
    },
    {
      postalCode: "82190-0168",
      city: "Yellowstone National Park",
      stateCode: "WY",
      countryCode: "US",
      provinceTerritoryCode: "",
      line1: "PO Box 168",
      type: "Mailing",
      line3: "",
      line2: ""
    }
  ],
  directionsInfo:
    "Yellowstone National Park covers nearly 3,500 square miles in the northwest corner of Wyoming (3% of the park is in Montana and 1% is in Idaho). Yellowstone has five entrance stations, and several are closed to regular vehicles during winter. It takes many hours to drive between these entrances, so be sure to check the status of roads at the entrance you intend to use while planning your trip and before you arrive.",
  directionsUrl: "http://www.nps.gov/yell/planyourvisit/directions.htm",
  images: [
    {
      credit: "NPS/Jim Peaco",
      title: "Grand Prismatic Spring",
      altText:
        "Brilliant blues and greens of a hot spring ringed by oranges, yellows, reds, and browns.",
      caption:
        "The bright colors found in Grand Prismatic Spring come from thermophiles—microorganisms that thrive in hot temperatures",
      url: "https://www.nps.gov/common/uploads/structured_data/3C7D5920-1DD8-B71B-0B83F012ED802CEA.jpg"
    },
    {
      credit: "NPS/Jim Peaco",
      title: "Aurum Geyser",
      altText:
        "A crowd of people standing along a wooden boardwalk watches a geyser erupt.",
      caption: "Aurum Geyser erupting",
      url: "https://www.nps.gov/common/uploads/structured_data/3C7D2FBB-1DD8-B71B-0BED99731011CFCE.jpg"
    },
    {
      credit: "NPS/Diane Renkin",
      title: "Black Pool",
      altText: "A visitor stands on a boardwalk near a hot spring and a lake.",
      caption: "Black Pool at the West Thumb Geyser Basin",
      url: "https://www.nps.gov/common/uploads/structured_data/3C7D383B-1DD8-B71B-0BEC4A4D6BDF7CAD.jpg"
    },
    {
      credit: "NPS/Jim Peaco",
      title: "Beehive Geyser",
      altText: "People on a wooden boardwalk watch a geyser erupt.",
      caption: "Visitors to the Upper Geyser Basin watch Beehive Geyser erupt.",
      url: "https://www.nps.gov/common/uploads/structured_data/3C7D334F-1DD8-B71B-0B108C7771F4E854.jpg"
    },
    {
      credit: "NPS/Jim Peaco",
      title: "Wolf howling",
      altText: "A wolf howls while standing on a snowy field.",
      caption: "Alpha male of the Canyon wolf pack",
      url: "https://www.nps.gov/common/uploads/structured_data/3C7D3BD3-1DD8-B71B-0BB607F9BAAE1271.jpg"
    },
    {
      credit: "NPS/Jim Peaco",
      title: "Fishing Bridge Trailside Museum",
      altText: "Visitors walk into a rustic, log and stone building.",
      caption:
        "The stone-and-log architecture of Fishing Bridge Trailside Museum became a prototype for park buildings all around the country",
      url: "https://www.nps.gov/common/uploads/structured_data/3C7D573E-1DD8-B71B-0B5C0DF5BB91D043.jpg"
    },
    {
      credit: "NPS/Diane Renkin",
      title: "Great Fountain Geyser",
      altText: "A geyser erupting in the middle of a large pool.",
      caption: "Great Fountain Geyser erupts against a blue summer sky",
      url: "https://www.nps.gov/common/uploads/structured_data/3C7D5AB4-1DD8-B71B-0BF91CF45345ED16.jpg"
    },
    {
      credit: "NPS/Jim Peaco",
      title: "Old Faithful Geyser in winter",
      altText:
        "A crowd in front of an erupting geyser during a snowy winter day.",
      caption: "Winter is a magical time to watch Old Faithful Geyser erupt",
      url: "https://www.nps.gov/common/uploads/structured_data/3C7D610A-1DD8-B71B-0BEF676112007818.jpg"
    },
    {
      credit: "NPS/Jim Peaco",
      title: "Palette Spring",
      altText:
        "Visitors walk in front of a brightly colored, terraced landscape.",
      caption:
        "The vibrant colors of Palette Springs are formed by thermophiles—heat-loving organisms",
      url: "https://www.nps.gov/common/uploads/structured_data/3C7D8903-1DD8-B71B-0BA8669AEEF74379.jpg"
    },
    {
      credit: "NPS/Peggy Olliff",
      title: "Bighorn sheep",
      altText: "Two bighorn sheep laying on the ground.",
      caption: "Two bighorn rams rest and chew their cud",
      url: "https://www.nps.gov/common/uploads/structured_data/3C7D95DD-1DD8-B71B-0BC4FA19BD72F0EC.jpg"
    },
    {
      credit: "NPS/Diane Renkin",
      title: "Lower Falls from Artist Point",
      altText: "A river plunges into a steep, barren canyon.",
      caption: "Lower Falls from Artist Point",
      url: "https://www.nps.gov/common/uploads/structured_data/8A729E5B-B263-9C49-7AD4C4B8E70064E0.jpg"
    },
    {
      credit: "NPS/Diane Renkin",
      title: "Bison herd in a thermal area",
      altText:
        "A herd of bison grazing through a barren and steaming thermal area.",
      caption: "Bison near Mud Volcano",
      url: "https://www.nps.gov/common/uploads/structured_data/8A869F85-FB2E-5EAF-11367EB2DB75963D.jpg"
    },
    {
      credit: "NPS/Jim Peaco",
      title: "Grizzly bear",
      altText: "A grizzly bear standing on a fallen tree.",
      caption: "Grizzly bear in the woods",
      url: "https://www.nps.gov/common/uploads/structured_data/8A902498-9D11-D06D-E352C073E3E85A58.jpg"
    },
    {
      credit: "NPS/Dave Krueger",
      title: "Yellowstone River",
      altText: "A greenish river meanders through a hilly river valley.",
      caption: "The Yellowstone River near Tower Fall",
      url: "https://www.nps.gov/common/uploads/structured_data/8AB8F1A3-D1A0-A6FB-E8E5CAA8B2937264.jpeg"
    }
  ],
  weatherInfo:
    "Yellowstone's weather can vary quite a bit, even in a single day. In the summer, daytime highs can exceed 70°F (21°C), only to drop 20 or more degrees when a thunderstorm rolls through. It can snow during any month of the year, and winter lows frequently drop below 0°F (-18°C), especially at night. Bring a range of clothing options, including a warm jacket and rain gear, even in the summer.",
  name: "Yellowstone",
  designation: "National Park",
  activities: [
    { id: "1", name: "Astronomy" },
    { id: "2", name: "Backpacking" },
    { id: "3", name: "Biking" },
    { id: "4", name: "Boating" },
    { id: "5", name: "Camping" },
    { id: "6", name: "Climbing" },
    { id: "7", name: "Fishing" },
    { id: "8", name: "Guided Tours" },
    { id: "9", name: "Hiking" },
    { id: "10", name: "Horseback Riding" },
    { id: "11", name: "Hunting" },
    { id: "12", name: "Photography" },
    { id: "13", name: "Skiing" },
    { id: "14", name: "Snowshoeing" },
    { id: "15", name: "Wildlife Watching" }
  ]
};
const parkInfoLinks = [
  {
    name: "Current Conditions &#x203A;",
    link: "conditions.html",
    image: park.images[2].url,
    description:
      "See what conditions to expect in the park before leaving on your trip!"
  },
  {
    name: "Fees and Passes &#x203A;",
    link: "fees.html",
    image: park.images[3].url,
    description: "Learn about the fees and passes that are available."
  },
  {
    name: "Visitor Centers &#x203A;",
    link: "visitor_centers.html",
    image: park.images[9].url,
    description: "Learn about the visitor centers in the park."
  }
];

const baseUrl = "https://developer.nps.gov/api/v1/";
const apiKey = import.meta.env.VITE_NPS_API_KEY;

async function getJson(url) {
  const options = {
    method: "GET",
    headers: {
      "X-Api-Key": apiKey
    }
  };
  let data = {};
  const response = await fetch(baseUrl + url, options);
  if (response.ok) {
    data = await response.json();
  } else throw new Error("response not ok");
  return data;
}

export function getInfoLinks(data) {
  // Why index + 2 below? no real reason. we don't want index 0 since that is the one we used for the banner...I decided to skip an image.
  const withUpdatedImages = parkInfoLinks.map((item, index) => {
    item.image = data[index + 2].url;
    return item;
  });
  return withUpdatedImages;
}

export async function getParkData() {
  // For now, return the static park data instead of making an API call
  // const parkData = await getJson("parks?parkCode=yell");
  // return parkData.data[0];
  
  return park;
}

export async function getParkAlerts(parkCode) {
  // For now, return sample alerts data
  // In a real implementation, this would fetch from: alerts?parkCode=${parkCode}
  return [
    {
      id: "1",
      title: "Grand View Point closing for construction weekdays August through September",
      description: "Grand View Point Overlook, Grand View Point Trail, and 0.3 mi (0.5 km) of park road will close 6 am Mondays to 4 pm Thursdays for a total of eight weeks. The closure applies to all uses, including vehicles, tour buses, motorcycles, bikes, & hikers.",
      category: "Park Closure",
      url: ""
    },
    {
      id: "2", 
      title: "Seasonal climbing closures in effect",
      description: "All climbers should ensure routes are not subject to wildlife seasonal closures. Many closures start March 1, March 15, or April 1 and continue through spring and summer.",
      category: "Information",
      url: ""
    }
  ];
}

export async function getParkVisitorCenters(parkCode) {
  // For now, return sample visitor center data that matches the screenshot
  return [
    {
      id: "1",
      name: "Canyonlands Backcountry Office",
      description: "The central backcountry office is located at park administrative offices south of Moab. Rangers can answer questions about backcountry travel over phone or email and issue permits online.",
      directionsInfo: "Canyonlands administrative offices are about five miles south of Moab on US 191.",
      operatingHours: [
        {
          description: "Open daily 8am-4:30pm"
        }
      ]
    },
    {
      id: "2", 
      name: "Hans Flat Ranger Station",
      description: "The remote Hans Flat (Maze) Ranger Station is normally open daily year-round. This ranger contact station has a picnic table and vault toilet, and a small selection of books and maps for sale. There are no services, food, gas, trash collection, electricity for visitor use, nor potable water in The Maze. The nearest communities with amenities are Hanksville (88 miles) and Green River (86 miles).",
      directionsInfo: "Getting to the Maze requires four-wheel-drive and a lot of time. To reach Hans Flat Ranger Station, from I-70 take UT 24 south for 24 miles. A left turn just beyond the turnoff to Goblin Valley State Park will take you along an unpaved, two-wheel-drive dirt road, 46 miles to the ranger station, blacktop. You can upgrade the road condition at any time. Roads beyond the ranger station require high clearance and four-wheel drive year-round.",
      operatingHours: [
        {
          description: "Open daily year-round"
        }
      ]
    },
    {
      id: "3",
      name: "Island in the Sky Visitor Center", 
      description: "Visitor center normally offers: exhibits, book & map sales, park orientation film, backcountry permits, general information, vault toilets, and park rangers on duty. You can get drinking water inside (during open hours) or outside 24 hours a day.",
      directionsInfo: "On US 191, drive 10 miles north of Moab or 22 miles south of Interstate 70 (Crescent Junction), then take UT 313 southwest for 22 miles. Follow signs for Canyonlands National Park. Drive time from Moab is roughly 40 minutes to the visitor center.",
      operatingHours: [
        {
          description: "Open daily 9am-4pm"
        }
      ]
    },
    {
      id: "4",
      name: "The Needles Visitor Center",
      description: "The Needles Visitor Center normally offers exhibits, book & map sales, backcountry permits, information, picnic area, and park rangers on duty. The park orientation movie (15 minutes) is not currently showing. Water is available year-round. When the visitor center is closed in winter, you must self-register for backcountry permits outside the visitor center entrance.",
      directionsInfo: "On US 191, drive 40 miles south of Moab, Utah, or 14 miles north of Monticello, Utah, then take UT 211 roughly 35 miles west. Highway 211 ends in The Needles, and is the only paved road leading in and out of the area.",
      operatingHours: [
        {
          description: "Open daily 9am-5pm (March-October), 9am-4pm (November-February)"
        }
      ]
    }
  ];
}

export async function getParkVisitorCenterDetails(id) {
  // For now, return detailed visitor center data based on ID
  const centers = {
    "1": {
      id: "1",
      name: "Canyonlands Backcountry Office",
      description: "The central backcountry office is located at park administrative offices south of Moab. Rangers can answer questions about backcountry travel over phone or email and issue permits online. This office serves as the primary resource for planning backcountry trips in all districts of Canyonlands National Park.",
      directionsInfo: "Canyonlands administrative offices are about five miles south of Moab on US 191. Look for the brown National Park Service sign on the west side of the highway.",
      images: [
        {
          url: "https://www.nps.gov/common/uploads/structured_data/3C7A4FC2-1DD8-B71B-0B13118594AB6D8D.jpg",
          altText: "Canyonlands Backcountry Office building exterior",
          caption: "The Backcountry Office in Moab provides permits and information for backcountry exploration.",
          credit: "NPS Photo"
        }
      ],
      addresses: [
        {
          type: "Physical",
          line1: "2282 Resource Blvd",
          city: "Moab",
          stateCode: "UT",
          postalCode: "84532"
        }
      ],
      amenities: [
        "Parking",
        "Restrooms",
        "Information Desk",
        "Permit Issuing",
        "Maps and Books for Sale"
      ],
      contacts: {
        emailAddresses: [
          {
            emailAddress: "canybackcountry@nps.gov"
          }
        ]
      }
    },
    "2": {
      id: "2",
      name: "Hans Flat Ranger Station",
      description: "The remote Hans Flat (Maze) Ranger Station is normally open daily year-round. This ranger contact station has a picnic table and vault toilet, and a small selection of books and maps for sale. There are no services, food, gas, trash collection, electricity for visitor use, nor potable water in The Maze. The nearest communities with amenities are Hanksville (88 miles) and Green River (86 miles).",
      directionsInfo: "Getting to the Maze requires four-wheel-drive and a lot of time. To reach Hans Flat Ranger Station, from I-70 take UT 24 south for 24 miles. A left turn just beyond the turnoff to Goblin Valley State Park will take you along an unpaved, two-wheel-drive dirt road, 46 miles to the ranger station. Roads beyond the ranger station require high clearance and four-wheel drive year-round.",
      images: [
        {
          url: "https://www.nps.gov/common/uploads/structured_data/3C7A525B-1DD8-B71B-0B8E8762A27E0777.jpg",
          altText: "Hans Flat Ranger Station in remote desert landscape",
          caption: "The Hans Flat Ranger Station serves visitors to the Maze District.",
          credit: "NPS Photo"
        }
      ],
      addresses: [
        {
          type: "Physical",
          line1: "Hans Flat Road",
          city: "Hanksville",
          stateCode: "UT",
          postalCode: "84734"
        }
      ],
      amenities: [
        "Vault Toilet",
        "Picnic Table",
        "Maps and Books for Sale",
        "Ranger Information"
      ],
      contacts: {
        emailAddresses: [
          {
            emailAddress: "canyinfo@nps.gov"
          }
        ]
      }
    },
    "3": {
      id: "3",
      name: "Island in the Sky Visitor Center",
      description: "The Island in the Sky visitor center is open year-round (except December 25). Rangers can answer questions, provide backcountry permits and current weather and road information. There are also books, maps, and other sales items. A short orientation video runs on request.",
      directionsInfo: "From Moab, take Highway 191 north 10 miles. Turn left onto Highway 313 and travel 22 miles to the entrance station. Continue 1.3 miles to the visitor center.",
      images: [
        {
          url: "https://www.nps.gov/common/uploads/structured_data/3C7A4E5A-1DD8-B71B-0B13CFF69C2DCBB4.jpg",
          altText: "Island in the Sky Visitor Center building with red rock formations in background",
          caption: "The Island in the Sky Visitor Center overlooks dramatic canyon vistas.",
          credit: "NPS Photo"
        }
      ],
      addresses: [
        {
          type: "Physical",
          line1: "Island in the Sky District",
          city: "Moab",
          stateCode: "UT",
          postalCode: "84532"
        }
      ],
      amenities: [
        "Parking",
        "Restrooms",
        "Water",
        "Accessibility",
        "Information Desk",
        "Exhibits",
        "Orientation Film",
        "Maps and Books for Sale",
        "Backcountry Permits"
      ],
      contacts: {
        emailAddresses: [
          {
            emailAddress: "canyinfo@nps.gov"
          }
        ]
      }
    },
    "4": {
      id: "4",
      name: "The Needles Visitor Center",
      description: "The Needles visitor center is open year-round (except December 25). Rangers can answer questions, provide backcountry permits and current weather and road information. There are also books, maps, and other sales items available for purchase.",
      directionsInfo: "From Monticello, take Highway 191 north 14 miles. Turn left onto Highway 211 and travel 34 miles to the visitor center, just past the entrance station.",
      images: [
        {
          url: "https://www.nps.gov/common/uploads/structured_data/3C7A5127-1DD8-B71B-0B13B01FD5C7DFFB.jpg",
          altText: "The Needles Visitor Center with distinctive rock spires visible",
          caption: "The Needles Visitor Center provides access to the park's southeastern district.",
          credit: "NPS Photo"
        }
      ],
      addresses: [
        {
          type: "Physical",
          line1: "The Needles District",
          city: "Monticello",
          stateCode: "UT",
          postalCode: "84535"
        }
      ],
      amenities: [
        "Parking",
        "Restrooms",
        "Water",
        "Accessibility",
        "Information Desk",
        "Exhibits",
        "Maps and Books for Sale",
        "Backcountry Permits"
      ],
      contacts: {
        emailAddresses: [
          {
            emailAddress: "canyinfo@nps.gov"
          }
        ]
      }
    }
  };

  return centers[id] || null;
}